{namespace vh=In2code\Powermail\ViewHelpers}

<div class="powermail_fieldwrap powermail_fieldwrap_type_check powermail_fieldwrap_{field.marker} {field.css} {settings.styles.framework.fieldAndLabelWrappingClasses}">
	<f:render partial="Form/FieldLabel" arguments="{_all}" />

	<div class="{settings.styles.framework.fieldWrappingClasses} {f:if(condition : '{field.css} == \'checkbox-list\'', then : 'row')}">
		<f:for each="{field.modifiedSettings}" as="setting" iteration="index">
			<div class="{f:if(condition : '{field.css} == \'checkbox-list\'', then : 'col-12 col-md-6 col-lg-4')}">
				<div class="checkbox-container mb-2">
					<div class="form-check {settings.styles.framework.checkClasses} {vh:Validation.ErrorClass(field:field, class:'powermail_field_error')}">
						<f:form.checkbox
								property="{field.marker}."
								value="{setting.value}"
								checked="{vh:Misc.PrefillMultiField(field:field, mail:mail, cycle:index.cycle)}"
								id="powermail_field_{field.marker}_{index.cycle}"
								additionalAttributes="{vh:Validation.ValidationDataAttribute(field:field, iteration:index)}"
								class="form-check-input powermail_checkbox powermail_checkbox_{field.uid}" />
						<label class="form-check-label" for="powermail_field_{field.marker}_{index.cycle}">
							<vh:string.escapeLabels>{setting.label}</vh:string.escapeLabels>
						</label>
					</div>
				</div>
			</div>
		</f:for>
		<f:if condition="{settings.validation.client}">
			<div class="{f:if(condition : '{field.css} == \'checkbox-list\'', then : 'col-12')} powermail_field_error_container powermail_field_error_container_{field.marker}"></div>
		</f:if>
	</div>

</div>
